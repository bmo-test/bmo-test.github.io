(this.webpackJsonpbmo=this.webpackJsonpbmo||[]).push([[0],{26:function(e,t,a){e.exports=a(51)},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),o=a.n(c),s=a(1),u=a(4),l=a(5),i=a(3),m=a(17),h=a(18),d=a(19),f=a(23),p=a(25),b=a(20),_=a(21),E=a.n(_),v=(a(47),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).state={value:""};var r=E()(e.onChange,e.debounce||500);return n.handleChange=function(e){var t=e.target.value;r(t),n.setState({value:t})},n.uniqueId=Object(b.v4)(),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props;return r.a.createElement("div",{"data-testid":"Input"},r.a.createElement("label",{className:"general__input__label",htmlFor:this.uniqueId},e.label||e.name),r.a.createElement("input",{className:"general__input__input",type:"text",placeholder:e.placeholder||e.name,id:this.uniqueId,name:e.name,onChange:this.handleChange,value:this.state.value}))}}]),a}(r.a.PureComponent)),O=a(22);var y=Object(i.a)((function(e){return e.restaurants}),(function(e){return e})),j=a(24),g={},w="BY_CITY",N=(a(48),Object(n.memo)((function(e){return r.a.createElement("li",{className:"restaurants__list-item__wrapper"},r.a.createElement("h2",{className:"restaurants__list-item__h2"},e.name),r.a.createElement("span",null,", ",r.a.createElement("em",null,e.area)),r.a.createElement("p",null,e.address))}))),S=(a(49),Object(n.memo)((function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),i=u[0],h=u[1],d=Object(n.useState)(""),f=Object(l.a)(d,2),p=f[0],b=f[1],_=Object(m.get)(e,"restaurants.".concat(i),[]);return c&&(_=_.filter((function(e){for(var t,a=["name","address","area"];a.length&&!t;)e[a.pop()].includes(c)&&(t=!0);return t}))),r.a.createElement("section",{className:"restaurants__wrapper","aria-labelledby":"restaurants__header"},r.a.createElement("h1",{id:"restaurants__header"},"Restaurants By City"),r.a.createElement("div",{role:"contentinfo"},r.a.createElement("p",null,"Search for restaurants by entering a city's name into the city input.Use the refine search to filter out items whose name, address, or area do not match the content in the refine textbox")),r.a.createElement("form",null,r.a.createElement(v,{onChange:function(t){h(t),t&&e.search(t).then((function(){b("")})).catch((function(e){b(e.statusText)}))},name:"city",placeholder:"Type a city's name here"}),r.a.createElement(v,{onChange:o,name:"refine",placeholder:"Refine your search"})),p&&r.a.createElement("div",{role:"alert"},"Error:",p),r.a.createElement("ul",{className:"restaurants__ul"},_.map((function(e,t){return r.a.createElement(N,Object.assign({key:t},e))}))),c&&!_.length&&r.a.createElement("div",{role:"alert"},"There are no restaurants that match your city and refine criteria."))}))),C=Object(i.b)({restaurants:y}),T=Object(u.b)(C,(function(e){return{search:function(t){return function(e){return Object(O.a)((t="restaurants?city=".concat(e)," https://opentable.herokuapp.com/api/".concat(t))).then((function(e){if(e.status<300)return e.json();throw e})).then((function(e){return e}));var t}(t).then((function(a){var n=a.restaurants;e(function(e,t){return{type:w,payload:{city:e,restaurants:t}}}(t,n))}))}}}))(S);a(50);var I=function(){return r.a.createElement("div",null,r.a.createElement("header",null,"Frontend Developer Application Test"),r.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=Object(s.b)({restaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:var a=t.payload,n=a.city,r=a.restaurants;return e[n]=r.map((function(e){return{name:e.name,address:e.address,area:e.area}})),Object(j.a)({},e);default:return e}}}),x=Object(s.c)(k,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:x},r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.630fae37.chunk.js.map